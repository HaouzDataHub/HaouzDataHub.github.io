<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Skills - HaouzDataHub</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="styles-modern.css">
    <link rel="stylesheet" href="styles-skills.css">
    <style>
.detail-modal { display: none !important; }
.detail-modal.show { display: flex !important; }
</style>
</head>
<body>
    <header class="navbar glass" id="navbar">
        <div class="logo">
            <img src="images/profil.jpg" alt="Logo">
            <h1>HaouzDataHub</h1>
        </div>
        <nav>
            <a href="index.html">Home</a>
            <a href="skills.html" class="active">Skills</a>
            <a href="about.html">About</a>
        </nav>
    </header>

    <main>
        <section class="hero-skills" id="skills-hero">
            <h1>Skills & Code Examples</h1>
            <p>SQL • Python • R • Tableau • Excel</p>
        </section>

        <section class="skills-section">
            <div class="container">
                <div class="posts-grid" id="postsGrid"></div>
            </div>
        </section>
    </main>

    <div class="detail-modal" id="detailModal">
        <div class="detail-content">
            <button class="close-btn" onclick="closeDetail()">×</button>
            <h2 id="detailTitle"></h2>
            <img id="detailImage" src="" alt="">
            <p id="detailCode"></p>
            <p id="detailComment"></p>
            <div class="detail-buttons">
                <button onclick="copyLink()" class="btn-copy">Copy Link</button>
                <button onclick="contactMe()" class="btn-contact">Contact</button>
                <button onclick="closeDetail()" class="btn-back">Back</button>
                <button onclick="goHome()" class="btn-home">Home</button>
            </div>
        </div>
    </div>

    <script src="skills-data.js"></script>
    <script>
        let skillsData = [];

        window.addEventListener('load', () => {
displaySkills();        });

        function displaySkills() {
            const grid = document.getElementById('postsGrid');
            
            if (typeof window.skillsData !== 'undefined' && window.skillsData.length > 0) {
                grid.innerHTML = window.skillsData.map((skill, idx) => `
                    <div class="skill-card" data-category="${skill.category}">
                        <h3>${skill.title}</h3>
                        <p class="category">${skill.category.toUpperCase()}</p>
                        <button class="btn-view" onclick="viewSkill(${idx})">View</button>
                    </div>
                `).join('');
            } else {
                grid.innerHTML = '<p>No skills loaded yet.</p>';
            }
        }

        function viewSkill(idx) {
            if (typeof window.skillsData === 'undefined' || !window.skillsData[idx]) return;
            
            const skill = window.skillsData[idx];
            document.getElementById('detailTitle').textContent = skill.title;
            document.getElementById('detailImage').src = skill.image || 'images/default.jpg';
            document.getElementById('detailCode').textContent = skill.code;
            document.getElementById('detailComment').textContent = skill.comment || 'No description';
            document.getElementById('detailModal').classList.add('show');
        }

        function closeDetail() {
            document.getElementById('detailModal').classList.remove('show');
        }

        function copyLink() {
            const url = window.location.href;
            navigator.clipboard.writeText(url);
            alert('Link copied!');
        }

        function contactMe() {
            window.location.href = 'mailto:hamza@example.com';
        }

        function goHome() {
            window.location.href = 'index.html';
        }
    </script>
</body>
</html>
